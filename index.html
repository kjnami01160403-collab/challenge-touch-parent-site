<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã‚¿ãƒƒãƒä¿è­·è€…ã‚µã‚¤ãƒˆ</title>
    <!-- Google Analytics 4 (GA4) -->
    <!-- TODO: YOUR_GA4_MEASUREMENT_ID ã‚’å®Ÿéš›ã®IDã«ç½®ãæ›ãˆã¦ãã ã•ã„ -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=YOUR_GA4_MEASUREMENT_ID"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'YOUR_GA4_MEASUREMENT_ID');
    </script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Hiragino Kaku Gothic ProN', 'Yu Gothic', sans-serif;
            line-height: 1.6;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        .logo {
            font-size: 28px;
            font-weight: bold;
            color: #333;
            text-align: center;
        }
        
        .dashboard {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.15);
            margin-bottom: 30px;
        }
        
        .child-info {
            display: flex;
            align-items: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(45deg, #ff9a9e 0%, #fecfef 100%);
            border-radius: 10px;
        }
        
        .child-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
            margin-right: 20px;
        }
        
        .child-details h2 {
            color: #333;
            margin-bottom: 5px;
        }
        
        .progress-section {
            margin-bottom: 30px;
        }
        
        .progress-card {
            background: #f8f9ff;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 5px solid #667eea;
        }
        
        .progress-bar {
            background: #e0e0e0;
            height: 15px;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            border-radius: 10px;
            transition: width 0.3s ease;
        }
        
        .recommendations {
            background: #fff5e6;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 30px;
            border-left: 5px solid #ff9500;
        }
        
        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }
        
        .product-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .product-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #764ba2);
        }
        
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }
        
        .product-image {
            width: 100%;
            height: 150px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            margin-bottom: 15px;
        }
        
        .product-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }
        
        .product-price {
            font-size: 24px;
            font-weight: bold;
            color: #ff9500;
            margin: 15px 0;
        }
        
        .btn {
            background: linear-gradient(45deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
            width: 100%;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .btn-secondary {
            background: #f0f0f0;
            color: #333;
        }
        
        .btn-secondary:hover {
            background: #e0e0e0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .stat-number {
            font-size: 32px;
            font-weight: bold;
            color: #667eea;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
        }
        
        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 40px;
            border-radius: 15px;
            max-width: 500px;
            width: 90%;
            text-align: center;
        }
        
        .close-modal {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 24px;
            cursor: pointer;
            color: #666;
        }
        
        .success-icon {
            font-size: 60px;
            color: #4CAF50;
            margin-bottom: 20px;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .product-card {
            animation: slideIn 0.6s ease forwards;
        }
        
        .product-card:nth-child(2) { animation-delay: 0.1s; }
        .product-card:nth-child(3) { animation-delay: 0.2s; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">ğŸ“š ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã‚¿ãƒƒãƒ ä¿è­·è€…ã‚µã‚¤ãƒˆ</div>
        </header>
        
        <div class="dashboard">
            <div class="child-info">
                <div class="child-avatar">ğŸ‘¦</div>
                <div class="child-details">
                    <h2>ç”°ä¸­ å¤ªéƒãã‚“ (å°å­¦3å¹´ç”Ÿ)</h2>
                    <p>å­¦ç¿’é–‹å§‹ã‹ã‚‰: 6ãƒ¶æœˆ | ä»Šæœˆã®å­¦ç¿’æ—¥æ•°: 18æ—¥</p>
                </div>
            </div>
            
            <div class="progress-section">
                <h3>ğŸ“Š ä»Šæœˆã®å­¦ç¿’é€²æ—</h3>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number">85%</div>
                        <div>å›½èªã®ç†è§£åº¦</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">92%</div>
                        <div>ç®—æ•°ã®ç†è§£åº¦</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">78%</div>
                        <div>ç†ç§‘ã®ç†è§£åº¦</div>
                    </div>
                </div>
                
                <div class="progress-card">
                    <h4>å›½èª - æ¼¢å­—ç·´ç¿’</h4>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 85%"></div>
                    </div>
                    <p>æ–°ã—ã„æ¼¢å­—20æ–‡å­—ä¸­17æ–‡å­—ç¿’å¾—æ¸ˆã¿</p>
                </div>
                
                <div class="progress-card">
                    <h4>ç®—æ•° - ã‹ã‘ç®—</h4>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 92%"></div>
                    </div>
                    <p>ä¹ä¹ã‚’å®Œç’§ã«ãƒã‚¹ã‚¿ãƒ¼ï¼ç´ æ™´ã‚‰ã—ã„æˆæœã§ã™</p>
                </div>
                
                <div class="progress-card">
                    <h4>ç†ç§‘ - æ¤ç‰©ã®è¦³å¯Ÿ</h4>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 78%"></div>
                    </div>
                    <p>è¦³å¯Ÿæ—¥è¨˜ã®è¨˜éŒ²ãŒå°‘ã—ä¸è¶³æ°—å‘³ã§ã™</p>
                </div>
            </div>
            
            <div class="recommendations">
                <h3>ğŸ¯ å¤ªéƒãã‚“ã«ãŠã™ã™ã‚ã®è¿½åŠ å­¦ç¿’</h3>
                <p>ç®—æ•°ãŒå¾—æ„ãªå¤ªéƒãã‚“ã«ã¯ã€ã‚ˆã‚Šé«˜åº¦ãªå•é¡Œé›†ãŒãŠã™ã™ã‚ã§ã™ã€‚<br>
                ç†ç§‘ã®è¦³å¯ŸåŠ›å‘ä¸Šã®ãŸã‚ã€å®Ÿé¨“ã‚­ãƒƒãƒˆã‚‚æ¤œè¨ã—ã¦ã¿ã¦ãã ã•ã„ã€‚</p>
            </div>
            
            <h3>ğŸ›’ ãŠã™ã™ã‚ã‚ªãƒ—ã‚·ãƒ§ãƒ³å•†å“</h3>
            <div class="product-grid">
                <div class="product-card">
                    <div class="product-image">ğŸ§®</div>
                    <div class="product-title">ç®—æ•°ãƒãƒ£ãƒ¬ãƒ³ã‚¸ãƒ—ãƒ©ã‚¹</div>
                    <p>å¾—æ„ãªç®—æ•°ã‚’ã•ã‚‰ã«ä¼¸ã°ã™å¿œç”¨å•é¡Œé›†ã€‚ä¸­å­¦å—é¨“ãƒ¬ãƒ™ãƒ«ã¾ã§å¯¾å¿œã€‚</p>
                    <div class="product-price">Â¥2,980/æœˆ</div>
                    <button class="btn" onclick="purchaseProduct('ç®—æ•°ãƒãƒ£ãƒ¬ãƒ³ã‚¸ãƒ—ãƒ©ã‚¹', 2980)">
                        ã‚«ãƒ¼ãƒˆã«è¿½åŠ 
                    </button>
                    <button class="btn btn-secondary" onclick="viewProduct('ç®—æ•°ãƒãƒ£ãƒ¬ãƒ³ã‚¸ãƒ—ãƒ©ã‚¹')" style="margin-top: 10px;">
                        è©³ç´°ã‚’è¦‹ã‚‹
                    </button>
                </div>
                
                <div class="product-card">
                    <div class="product-image">ğŸ”¬</div>
                    <div class="product-title">ç†ç§‘å®Ÿé¨“ã‚­ãƒƒãƒˆ</div>
                    <p>å®¶åº­ã§æ¥½ã—ãå­¦ã¹ã‚‹å®Ÿé¨“ã‚»ãƒƒãƒˆã€‚è¦³å¯ŸåŠ›ã¨æ¢ç©¶å¿ƒã‚’è‚²ã¦ã¾ã™ã€‚</p>
                    <div class="product-price">Â¥4,500/æœˆ</div>
                    <button class="btn" onclick="purchaseProduct('ç†ç§‘å®Ÿé¨“ã‚­ãƒƒãƒˆ', 4500)">
                        ã‚«ãƒ¼ãƒˆã«è¿½åŠ 
                    </button>
                    <button class="btn btn-secondary" onclick="viewProduct('ç†ç§‘å®Ÿé¨“ã‚­ãƒƒãƒˆ')" style="margin-top: 10px;">
                        è©³ç´°ã‚’è¦‹ã‚‹
                    </button>
                </div>
                
                <div class="product-card">
                    <div class="product-image">ğŸ“–</div>
                    <div class="product-title">èª­æ›¸ç¿’æ…£ã‚µãƒãƒ¼ãƒˆ</div>
                    <p>å¹´é½¢ã«é©ã—ãŸæ¨è–¦å›³æ›¸ã®å®šæœŸé…é€ã€‚èª­è§£åŠ›å‘ä¸Šã‚’ã‚µãƒãƒ¼ãƒˆã€‚</p>
                    <div class="product-price">Â¥1,980/æœˆ</div>
                    <button class="btn" onclick="purchaseProduct('èª­æ›¸ç¿’æ…£ã‚µãƒãƒ¼ãƒˆ', 1980)">
                        ã‚«ãƒ¼ãƒˆã«è¿½åŠ 
                    </button>
                    <button class="btn btn-secondary" onclick="viewProduct('èª­æ›¸ç¿’æ…£ã‚µãƒãƒ¼ãƒˆ')" style="margin-top: 10px;">
                        è©³ç´°ã‚’è¦‹ã‚‹
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- è³¼å…¥å®Œäº†ãƒ¢ãƒ¼ãƒ€ãƒ« -->
    <div id="purchaseModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal()">&times;</span>
            <div class="success-icon">âœ…</div>
            <h2>è³¼å…¥ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼</h2>
            <p id="purchaseMessage"></p>
            <button class="btn" onclick="closeModal()" style="margin-top: 20px;">
                é–‰ã˜ã‚‹
            </button>
        </div>
    </div>

    <script>
        // GA4 ã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ™ãƒ³ãƒˆã®è¨­å®šä¾‹
        
        // 1. ã‚³ãƒ³ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ¸¬å®šç”¨ã®é–¢æ•°
        function purchaseProduct(productName, price) {
            // eã‚³ãƒãƒ¼ã‚¹æ¸¬å®š - è³¼å…¥ã‚¤ãƒ™ãƒ³ãƒˆ
            gtag('event', 'purchase', {
                transaction_id: 'T' + Date.now(),
                value: price,
                currency: 'JPY',
                items: [{
                    item_id: productName.replace(/\s/g, '_'),
                    item_name: productName,
                    category: 'ã‚ªãƒ—ã‚·ãƒ§ãƒ³æ•™æ',
                    quantity: 1,
                    price: price
                }]
            });
            
            // ã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ™ãƒ³ãƒˆ - å•†å“è³¼å…¥
            gtag('event', 'product_purchase', {
                custom_parameter_1: productName,
                custom_parameter_2: price,
                custom_parameter_3: 'ä¿è­·è€…ã‚µã‚¤ãƒˆçµŒç”±'
            });
            
            // è³¼å…¥å®Œäº†ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’è¡¨ç¤º
            document.getElementById('purchaseMessage').textContent = 
                `${productName} (Â¥${price.toLocaleString()}/æœˆ) ã‚’ã‚«ãƒ¼ãƒˆã«è¿½åŠ ã—ã¾ã—ãŸï¼`;
            document.getElementById('purchaseModal').style.display = 'block';
        }
        
        // 2. ã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ™ãƒ³ãƒˆ - å•†å“è©³ç´°è¡¨ç¤º
        function viewProduct(productName) {
            gtag('event', 'view_item', {
                currency: 'JPY',
                value: 0,
                items: [{
                    item_id: productName.replace(/\s/g, '_'),
                    item_name: productName,
                    category: 'ã‚ªãƒ—ã‚·ãƒ§ãƒ³æ•™æ'
                }]
            });
            
            // ã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ™ãƒ³ãƒˆ
            gtag('event', 'product_detail_view', {
                custom_parameter_1: productName,
                custom_parameter_2: 'è©³ç´°ãƒšãƒ¼ã‚¸é–²è¦§'
            });
            
            alert(`${productName}ã®è©³ç´°ãƒšãƒ¼ã‚¸ã‚’é–‹ãã¾ã™ï¼ˆãƒ‡ãƒ¢ç”¨ï¼‰`);
        }
        
        // 3. ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ¸¬å®šã®ã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ™ãƒ³ãƒˆ
        let scrollThresholds = [25, 50, 75, 90];
        let triggeredThresholds = [];
        
        window.addEventListener('scroll', function() {
            const scrollPercent = (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100;
            
            scrollThresholds.forEach(threshold => {
                if (scrollPercent >= threshold && !triggeredThresholds.includes(threshold)) {
                    triggeredThresholds.push(threshold);
                    
                    // ã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ™ãƒ³ãƒˆ - ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ·±åº¦
                    gtag('event', 'scroll_depth', {
                        custom_parameter_1: threshold + '%',
                        custom_parameter_2: 'ä¿è­·è€…ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰'
                    });
                }
            });
        });
        
        // 4. ãƒšãƒ¼ã‚¸æ»åœ¨æ™‚é–“ã®ã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ™ãƒ³ãƒˆ
        let startTime = Date.now();
        
        window.addEventListener('beforeunload', function() {
            const timeSpent = Math.round((Date.now() - startTime) / 1000);
            
            // ã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ™ãƒ³ãƒˆ - æ»åœ¨æ™‚é–“
            gtag('event', 'time_on_page', {
                custom_parameter_1: timeSpent + 'ç§’',
                custom_parameter_2: 'ä¿è­·è€…ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰'
            });
        });
        
        // 5. å­¦ç¿’é€²æ—ç¢ºèªã®ã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ™ãƒ³ãƒˆ
        document.addEventListener('DOMContentLoaded', function() {
            // ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚ã®ã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ™ãƒ³ãƒˆ
            gtag('event', 'dashboard_view', {
                custom_parameter_1: 'ç”°ä¸­å¤ªéƒ',
                custom_parameter_2: 'å°å­¦3å¹´ç”Ÿ',
                custom_parameter_3: 'å­¦ç¿’é€²æ—ç¢ºèª'
            });
        });
        
        // ãƒ¢ãƒ¼ãƒ€ãƒ«åˆ¶å¾¡
        function closeModal() {
            document.getElementById('purchaseModal').style.display = 'none';
        }
        
        // ãƒ¢ãƒ¼ãƒ€ãƒ«å¤–ã‚¯ãƒªãƒƒã‚¯ã§é–‰ã˜ã‚‹
        window.onclick = function(event) {
            const modal = document.getElementById('purchaseModal');
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        }
        
        // UTMæƒ…å ±ã‚’ç”»é¢ã«è¡¨ç¤ºã™ã‚‹é–¢æ•°
        function displayUTMInfo(utmParams) {
            // directã‚¢ã‚¯ã‚»ã‚¹ã§ãªã„å ´åˆã®ã¿è¡¨ç¤º
            if (utmParams.utm_source !== 'direct') {
                const utmInfoDiv = document.getElementById('utmInfo');
                const utmParamsDiv = document.getElementById('utmParams');
                
                utmParamsDiv.innerHTML = `
                    <div class="utm-param">
                        <strong>å‚ç…§å…ƒ:</strong> ${utmParams.utm_source}
                    </div>
                    <div class="utm-param">
                        <strong>ãƒ¡ãƒ‡ã‚£ã‚¢:</strong> ${utmParams.utm_medium}
                    </div>
                    <div class="utm-param">
                        <strong>ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³:</strong> ${utmParams.utm_campaign}
                    </div>
                    <div class="utm-param">
                        <strong>ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰:</strong> ${utmParams.utm_term}
                    </div>
                    <div class="utm-param">
                        <strong>ã‚³ãƒ³ãƒ†ãƒ³ãƒ„:</strong> ${utmParams.utm_content}
                    </div>
                `;
                
                utmInfoDiv.style.display = 'block';
            }
        }
        
        // 7. ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆæ¸¬å®šã®ã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ™ãƒ³ãƒˆ
        let engagementTimer;
        
        // ãƒã‚¦ã‚¹ãƒ ãƒ¼ãƒ–ãƒ¡ãƒ³ãƒˆã§ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆæ¸¬å®š
        document.addEventListener('mousemove', function() {
            clearTimeout(engagementTimer);
            engagementTimer = setTimeout(function() {
                gtag('event', 'user_engagement', {
                    custom_parameter_1: '5ç§’é–“ã‚¢ã‚¯ãƒ†ã‚£ãƒ–',
                    custom_parameter_2: 'ä¿è­·è€…ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰'
                });
            }, 5000);
        });
    </script>
</body>
</html>
